<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	
	<!-- Clickadila ads -->
	<script async src="https://js.wpadmngr.com/static/adManager.js" data-admpid="131151"></script>
	
	<!-- monetag ads -->
	<script src="https://quge5.com/88/tag.min.js" data-zone="190124" async data-cfasync="false"></script>
	
		<meta name="description" content="‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂ ‡¶≠‡ßã‡¶ü ‡¶ú‡¶∞‡¶ø‡¶™ ‡ß®‡ß¶‡ß®‡ß¨‡•§ ‡¶Ü‡¶ì‡¶Ø‡¶º‡¶æ‡¶Æ‡ßÄ ‡¶≤‡ßÄ‡¶ó (AL), ‡¶¨‡¶ø‡¶è‡¶®‡¶™‡¶ø (BNP), ‡¶ú‡¶æ‡¶§‡ßÄ‡ßü ‡¶™‡¶æ‡¶∞‡ßç‡¶ü‡¶ø (JP) ‡¶ì ‡¶Ö‡¶®‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶Ø ‡¶¶‡¶≤‡ßá‡¶∞ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶®‡ßÄ ‡¶∏‡¶Æ‡ßÄ‡¶ï‡ßç‡¶∑‡¶æ ‡¶ì ‡¶´‡¶≤‡¶æ‡¶´‡¶≤‡•§ ‡¶≠‡ßã‡¶ü‡¶æ‡¶∞‡ßá‡¶∞ ‡¶Æ‡¶§‡¶æ‡¶Æ‡¶§ ‡¶ì ‡¶™‡¶∞‡¶ø‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ‡¶®‡•§">
<meta name="keywords" content="‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂ ‡¶≠‡ßã‡¶ü, ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡ß®‡ß¶‡ß®‡ß¨, ‡¶≠‡ßã‡¶ü ‡¶ú‡¶∞‡¶ø‡¶™, ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶®‡ßÄ ‡¶∏‡¶Æ‡ßÄ‡¶ï‡ßç‡¶∑‡¶æ, AL, BNP, JP">
    <title>‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶Æ‡¶æ‡¶®‡ßç‡¶° ‡¶∏‡ßá‡¶®‡ßç‡¶ü‡¶æ‡¶∞ ‡ß®‡ß¶‡ß®‡ß¨</title>
    <!-- ‡¶´‡¶®‡ßç‡¶ü ‡¶è‡¶¨‡¶Ç ‡¶Ü‡¶á‡¶ï‡¶® -->
    <link href="https://fonts.googleapis.com/css2?family=Hind+Siliguri:wght@300;400;500;600;700&family=Orbitron:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <style>
        :root {
            --bg-dark: #050505;
            --glass: rgba(255, 255, 255, 0.05);
            --glass-border: rgba(255, 255, 255, 0.1);
            --neon-blue: #00f3ff;
            --neon-purple: #bc13fe;
            --neon-gold: #ffd700;
            --text-main: #ffffff;
            --text-muted: #888888;
            --card-gradient: linear-gradient(145deg, rgba(255,255,255,0.05) 0%, rgba(255,255,255,0.01) 100%);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Hind Siliguri', sans-serif; }

        body {
            background-color: var(--bg-dark);
            color: var(--text-main);
            overflow-x: hidden;
            min-height: 100vh;
            background-image: 
                radial-gradient(circle at 15% 50%, rgba(188, 19, 254, 0.1), transparent 25%), 
                radial-gradient(circle at 85% 30%, rgba(0, 243, 255, 0.1), transparent 25%);
        }

        .grid-bg {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background-size: 50px 50px;
            background-image: linear-gradient(to right, rgba(255, 255, 255, 0.02) 1px, transparent 1px),
                              linear-gradient(to bottom, rgba(255, 255, 255, 0.02) 1px, transparent 1px);
            z-index: -1; perspective: 500px;
        }

        /* --- ‡¶Æ‡¶°‡¶æ‡¶≤ ‡¶∏‡ßç‡¶ü‡¶æ‡¶á‡¶≤ (‡¶®‡¶§‡ßÅ‡¶®) --- */
        .modal-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.85); backdrop-filter: blur(8px);
            display: none; justify-content: center; align-items: center; z-index: 2000;
        }

        .modal-box {
            background: #111; border: 1px solid var(--neon-blue);
            width: 90%; max-width: 500px; padding: 30px; border-radius: 15px;
            box-shadow: 0 0 30px rgba(0, 243, 255, 0.2);
            position: relative;
        }

        .modal-close {
            position: absolute; top: 15px; right: 15px;
            color: #fff; background: none; border: none; font-size: 1.2rem; cursor: pointer;
        }

        .modal-title { color: var(--neon-gold); text-align: center; margin-bottom: 20px; font-size: 1.3rem; }
        .modal-text { color: #ccc; text-align: center; margin-bottom: 20px; font-size: 0.95rem; line-height: 1.6; }

        /* ‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶∏‡ßç‡¶ü ‡¶´‡¶∞‡ßç‡¶Æ */
        .c-form-group { margin-bottom: 15px; }
        .c-form-input { width: 100%; background: rgba(255,255,255,0.05); border: 1px solid #444; padding: 10px; border-radius: 5px; color: #fff; outline: none; }
        .c-form-input:focus { border-color: var(--neon-blue); }

        /* ‡¶∞‡ßá‡¶´‡¶æ‡¶∞‡ßá‡¶≤ ‡¶™‡ßç‡¶∞‡ßã‡¶ó‡ßç‡¶∞‡ßá‡¶∏ */
        .ref-link-box {
            background: rgba(0, 243, 255, 0.1); border: 1px dashed var(--neon-blue);
            padding: 10px; word-break: break-all; font-size: 0.85rem; color: #fff; margin-bottom: 15px; border-radius: 5px;
        }
        .progress-bar-bg {
            background: #333; height: 20px; border-radius: 10px; overflow: hidden; margin: 15px 0;
        }
        .progress-bar-fill {
            background: linear-gradient(90deg, var(--neon-gold), var(--neon-purple));
            height: 100%; width: 0%; transition: width 0.5s ease;
        }

        /* ‡¶π‡¶ø‡¶∞‡ßã ‡¶ü‡ßá‡¶ï‡ßç‡¶∏‡¶ü ‡¶∏‡ßç‡¶ü‡¶æ‡¶á‡¶≤ */
        .hero-section {
            max-width: 1200px; margin: 30px auto; text-align: center; padding: 25px 40px;
            background: rgba(255, 255, 255, 0.03); border: 1px solid var(--glass-border);
            border-radius: 15px; backdrop-filter: blur(10px);
            box-shadow: 0 0 20px rgba(0, 243, 255, 0.05); position: relative; z-index: 10;
        }
        .hero-section p { font-size: 2rem; line-height: 1.8; color: #e0e0e0; font-weight: 400; }

        /* ‡¶¨‡¶ø‡¶ú‡ßç‡¶û‡¶æ‡¶™‡¶®‡ßá‡¶∞ ‡¶∏‡ßç‡¶ü‡¶æ‡¶á‡¶≤ */
        .ad-container {
            background: rgba(20, 20, 20, 0.8); border: 1px dashed #444;
            display: flex; justify-content: center; align-items: center; color: #666; font-size: 0.9rem;
            margin: 20px 0; position: relative; overflow: hidden;
        }
        .ad-label { position: absolute; top: 5px; right: 5px; font-size: 10px; background: #333; padding: 2px 5px; border-radius: 3px; z-index: 2; }
        .ad-leaderboard { width: 100%; height: 90px; margin: 20px 0; }
        .ad-sidebar { width: 100%; height: 250px; margin-bottom: 20px; }
        .ad-feed { width: 100%; height: 100px; margin: 20px 0; }
        .ad-footer { width: 100%; height: 90px; margin-top: 40px; }

        /* ‡¶π‡ßá‡¶°‡¶æ‡¶∞ */
        header {
            padding: 20px 5%; display: flex; justify-content: space-between; align-items: center;
            border-bottom: 1px solid var(--glass-border); backdrop-filter: blur(10px);
            position: sticky; top: 0; z-index: 100;
        }
        .logo {
            font-family: 'Orbitron', sans-serif; font-size: 1.5rem;
            background: linear-gradient(90deg, var(--neon-blue), var(--neon-purple));
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            text-shadow: 0 0 20px rgba(0, 243, 255, 0.5);
        }
        .nav-btn {
            background: rgba(255,255,255,0.1); border: 1px solid var(--glass-border); color: white;
            padding: 8px 20px; border-radius: 5px; cursor: pointer; transition: 0.3s; font-size: 0.9rem;
        }
        .nav-btn:hover { background: var(--neon-blue); color: black; box-shadow: 0 0 15px var(--neon-blue); }

        /* ‡¶≤‡ßá‡¶Ü‡¶â‡¶ü ‡¶ó‡ßç‡¶∞‡¶ø‡¶° */
        .layout-wrapper { display: grid; grid-template-columns: 1fr 320px; gap: 30px; max-width: 1400px; margin: 0 auto; padding: 20px; }
        @media (max-width: 992px) { .layout-wrapper { grid-template-columns: 1fr; } .ad-sidebar { height: 100px; } }
        .main-content { min-width: 0; }

        /* ‡¶∏‡ßá‡¶ï‡¶∂‡¶® ‡¶ü‡ßç‡¶∞‡¶æ‡¶®‡¶ú‡¶ø‡¶∂‡¶® */
        .view-section { display: none; animation: fadeIn 0.5s ease; }
        .view-section.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        /* ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶≠‡¶ø‡¶â */
        .party-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 20px; }
        .party-card {
            background: var(--card-gradient); border: 1px solid var(--glass-border); border-radius: 20px;
            padding: 25px; text-align: center; transition: all 0.4s ease; position: relative; overflow: hidden; backdrop-filter: blur(10px);
        }
        .party-card:hover { transform: translateY(-5px); border-color: var(--neon-blue); box-shadow: 0 0 30px rgba(0, 243, 255, 0.2); }
        .leader-img-wrapper {
            width: 100px; height: 100px; margin: 0 auto 15px; border-radius: 50%; padding: 3px;
            background: linear-gradient(var(--neon-blue), var(--neon-purple)); box-shadow: 0 0 20px rgba(188, 19, 254, 0.4);
        }
        .leader-img { width: 100%; height: 100%; border-radius: 50%; object-fit: cover; border: 3px solid var(--bg-dark); }
        .party-title { font-size: 1.2rem; font-weight: 700; margin-bottom: 5px; color: #fff; }
        .party-meta { color: var(--text-muted); font-size: 0.85rem; margin-bottom: 15px; }
        .symbol-badge {
            display: inline-block; background: rgba(255, 215, 0, 0.1); color: var(--neon-gold);
            padding: 4px 12px; border-radius: 20px; font-size: 0.8rem; border: 1px solid rgba(255, 215, 0, 0.3); margin-bottom: 15px;
        }
        .vote-btn {
            background: linear-gradient(90deg, var(--neon-blue), #00a8ff); border: none; padding: 10px 20px;
            color: #000; font-weight: 700; border-radius: 30px; cursor: pointer; width: 100%;
            transition: 0.3s; text-transform: uppercase; letter-spacing: 1px; font-size: 0.9rem;
        }
        .vote-btn:hover { box-shadow: 0 0 20px var(--neon-blue); transform: scale(1.05); }

        /* ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶°‡¶Æ‡¶ø‡¶® ‡¶™‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤ */
        .admin-dashboard { background: var(--glass); border: 1px solid var(--glass-border); border-radius: 20px; padding: 30px; backdrop-filter: blur(20px); }
        .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 15px; margin-bottom: 30px; }
        .stat-card { background: rgba(0,0,0,0.3); padding: 15px; border-radius: 10px; text-align: center; border: 1px solid var(--glass-border); }
        .stat-number { font-size: 2rem; font-weight: 700; color: var(--neon-blue); font-family: 'Orbitron', sans-serif; }
        .add-party-form { background: rgba(0,0,0,0.4); padding: 20px; border-radius: 15px; margin-bottom: 30px; border-left: 4px solid var(--neon-purple); }
        .form-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .form-group { margin-bottom: 15px; }
        .form-group.full-width { grid-column: span 2; }
        label { display: block; margin-bottom: 5px; color: var(--neon-blue); font-size: 0.9rem; }
        input { width: 100%; background: rgba(255,255,255,0.05); border: 1px solid var(--glass-border); padding: 10px; border-radius: 5px; color: #fff; outline: none; }
        input:focus { border-color: var(--neon-blue); }
        .btn-submit { background: var(--neon-purple); color: white; border: none; padding: 10px 25px; border-radius: 5px; cursor: pointer; font-weight: 600; }
        table { width: 100%; border-collapse: collapse; margin-top: 10px; font-size: 0.9rem; }
        th, td { text-align: left; padding: 10px; border-bottom: 1px solid var(--glass-border); }
        th { color: var(--neon-blue); font-family: 'Orbitron', sans-serif; }
        .action-btn { background: transparent; border: 1px solid #ff4444; color: #ff4444; padding: 5px 10px; border-radius: 5px; cursor: pointer; }
        .action-btn:hover { background: #ff4444; color: white; }

        /* ‡¶´‡¶≤‡¶æ‡¶´‡¶≤ ‡¶ö‡¶æ‡¶∞‡ßç‡¶ü */
        .chart-container { margin-top: 30px; background: rgba(255,255,255,0.02); padding: 20px; border-radius: 20px; display: none; }
        .bar-wrapper { margin-bottom: 15px; }
        .bar-label { display: flex; justify-content: space-between; margin-bottom: 5px; font-size: 0.9rem; }
        .bar-bg { background: rgba(255,255,255,0.1); height: 10px; border-radius: 5px; overflow: hidden; }
        .bar-fill { height: 100%; background: linear-gradient(90deg, var(--neon-blue), var(--neon-purple)); width: 0%; transition: width 1s ease; }

        /* ‡¶ï‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶∏‡ßá‡¶ï‡¶∂‡¶® */
        .comment-section { max-width: 800px; margin: 40px auto 20px; background: rgba(255, 255, 255, 0.03); border: 1px solid var(--glass-border); border-radius: 20px; padding: 30px; backdrop-filter: blur(10px); position: relative; z-index: 5; }
        .comment-header { margin-bottom: 20px; color: var(--neon-blue); text-align: center; font-size: 1.5rem; font-weight: 600; }
        .comment-display-area { max-height: 400px; overflow-y: auto; margin-bottom: 20px; padding-right: 10px; }
        .comment-display-area::-webkit-scrollbar { width: 6px; }
        .comment-display-area::-webkit-scrollbar-thumb { background: var(--glass-border); border-radius: 3px; }
        .single-comment { background: rgba(0,0,0,0.4); padding: 15px; border-radius: 10px; margin-bottom: 15px; border-left: 3px solid var(--neon-purple); animation: slideLeft 0.3s ease; }
        @keyframes slideLeft { from { opacity: 0; transform: translateX(-20px); } to { opacity: 1; transform: translateX(0); } }
        .comment-user { color: var(--neon-gold); font-size: 0.9rem; font-weight: bold; margin-bottom: 5px; display: flex; align-items: center; gap: 8px; }
        .comment-text { color: #e0e0e0; font-size: 0.95rem; line-height: 1.6; }
        .comment-input-area { display: grid; gap: 10px; background: rgba(0,0,0,0.2); padding: 20px; border-radius: 15px; }
        .c-input, .c-textarea { width: 100%; background: rgba(0,0,0,0.5); border: 1px solid var(--glass-border); padding: 12px; border-radius: 8px; color: #fff; outline: none; font-family: 'Hind Siliguri'; transition: 0.3s; }
        .c-input:focus, .c-textarea:focus { border-color: var(--neon-blue); }
        .c-textarea { height: 80px; resize: none; }
        .c-submit-btn { background: linear-gradient(90deg, var(--neon-purple), var(--neon-blue)); color: white; border: none; padding: 10px 20px; border-radius: 8px; cursor: pointer; font-weight: 600; width: 100%; transition: 0.3s; }
        .c-submit-btn:hover { opacity: 0.9; box-shadow: 0 0 15px var(--neon-purple); }
    </style>
</head>
<body>

    <div class="grid-bg"></div>

    <!-- ‡¶π‡ßá‡¶°‡¶æ‡¶∞ -->
    <header>
        <div class="logo"><img src="https://flagcdn.com/w40/bd.png" alt="Bangladesh Flag"> BANGLADESH E-VOTE BD 2026</div>
        <div>
            <button class="nav-btn" onclick="switchView('user')"><i class="fas fa-home"></i> ‡¶π‡ßã‡¶Æ</button>
            <button class="nav-btn" onclick="checkAdminAccess()"><i class="fas fa-user-shield"></i>‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶ó‡¶´ ‡¶¨‡¶ø‡¶§‡¶æ‡¶∞‡¶® ‡¶ï‡¶∞‡¶æ ‡¶π‡ßü</button>
        </div>
    </header>

    <!-- ‡¶π‡¶ø‡¶∞‡ßã ‡¶ü‡ßá‡¶ï‡ßç‡¶∏‡¶ü -->
    <div class="hero-section">
        <p>‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂ ‡¶≠‡ßã‡¶ü ‡¶ú‡¶∞‡¶ø‡¶™ ‡ß®‡ß¶‡ß®‡ß¨‚Äì‡¶è ‡¶¶‡ßá‡¶∂‡ßá‡¶∞ ‡¶™‡ßç‡¶∞‡¶ß‡¶æ‡¶® ‡¶∞‡¶æ‡¶ú‡¶®‡ßà‡¶§‡¶ø‡¶ï ‡¶¶‡¶≤‡¶ó‡ßÅ‡¶≤‡ßã‡¶∞ ‡¶ú‡¶®‡¶™‡ßç‡¶∞‡¶ø‡¶Ø‡¶º‡¶§‡¶æ ‡¶è‡¶¨‡¶Ç ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶®‡ßÄ ‡¶∏‡¶Æ‡ßÄ‡¶ï‡ßç‡¶∑‡¶æ‡¶∞ ‡¶ú‡¶∞‡¶ø‡¶™ ‡¶ö‡¶≤‡¶õ‡ßá‡•§ ‡¶¨‡¶ø‡¶è‡¶®‡¶™‡¶ø (‡¶ß‡¶æ‡¶®‡ßá‡¶∞ ‡¶∂‡ßÄ‡¶∑), ‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂  ‡¶ú‡¶æ‡¶Æ‡¶æ‡ßü‡ßá‡¶§ ‡¶á‡¶∏‡¶≤‡¶æ‡¶Æ‡¶ø (‡¶¶‡¶æ‡¶Å‡ßú‡¶ø‡¶™‡¶æ‡¶≤‡ßç‡¶≤‡¶æ), ‡¶ú‡¶æ‡¶§‡ßÄ‡ßü ‡¶®‡¶æ‡¶ó‡¶∞‡¶ø‡¶ï ‡¶™‡¶æ‡¶∞‡ßç‡¶ü‡¶ø (‡¶∂‡¶æ‡¶™‡¶≤‡¶æ-‡¶ï‡¶≤‡¶ø)‡¶è‡¶¨‡¶Ç ‡¶Ö‡¶®‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶Ø ‡¶¶‡¶≤‡¶ó‡ßÅ‡¶≤‡ßã ‡¶≠‡ßã‡¶ü‡¶æ‡¶∞‡ßá‡¶∞ ‡¶Æ‡¶§‡¶æ‡¶Æ‡¶§ ‡¶¨‡¶ø‡¶∂‡ßç‡¶≤‡ßá‡¶∑‡¶£ ‡¶ï‡¶∞‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá‡•§ ‡¶ì‡ßü‡ßá‡¶¨‡¶∏‡¶æ‡¶á‡¶ü‡¶ü‡¶ø ‡¶≤‡¶æ‡¶á‡¶≠ ‡¶≠‡ßã‡¶ü ‡¶´‡¶≤‡¶æ‡¶´‡¶≤, ‡¶ó‡ßç‡¶∞‡¶æ‡¶´ ‡¶ì ‡¶™‡¶∞‡¶ø‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ‡¶® ‡¶™‡ßç‡¶∞‡¶¶‡¶∞‡ßç‡¶∂‡¶® ‡¶ï‡¶∞‡ßá ‡¶≠‡ßã‡¶ü‡¶æ‡¶∞‡¶¶‡ßá‡¶∞ ‡¶∏‡¶†‡¶ø‡¶ï ‡¶ß‡¶æ‡¶∞‡¶£‡¶æ ‡¶¶‡ßá‡ßü‡•§</p>
    </div>

    <!-- ‡ßß. ‡¶ü‡¶™ ‡¶¨‡¶ø‡¶ú‡ßç‡¶û‡¶æ‡¶™‡¶® -->
    <div style="max-width: 900px; margin: 0 auto; padding: 0 20px;">
        <div class="ad-container ad-leaderboard"><span class="ad-label">Advertisement</span><script>
  atOptions = {
    'key' : '2be2d10619ffc6c563c3336cde50e020',
    'format' : 'iframe',
    'height' : 90,
    'width' : 728,
    'params' : {}
  };
</script>
<script src="https://beastlyfluke.com/2be2d10619ffc6c563c3336cde50e020/invoke.js"></script></div>
    </div>

    <div class="layout-wrapper">
        <!-- ‡¶¨‡¶æ‡¶Æ ‡¶™‡¶æ‡¶∂: ‡¶Æ‡ßÇ‡¶≤ ‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶®‡ßç‡¶ü -->
        <div class="main-content">
            <!-- ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶≠‡¶ø‡¶â -->
            <div id="user-view" class="view-section active">
                <h2 style="text-align: center; margin-bottom: 20px;">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡¶õ‡¶®‡ßç‡¶¶‡ßá‡¶∞ ‡¶¶‡¶≤‡¶ï‡ßáüòá ‡¶≠‡ßã‡¶üüó≥Ô∏è ‡¶¶‡¶ø‡ßü‡ßá ‡¶ú‡ßü‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§ üáßüá©‡¶¶‡ßá‡¶∂‡ßá‡¶∞ ‡¶ö‡¶æ‡¶¨‡¶øüîë ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶π‡¶æ‡¶§‡ßáüë®‚Äçüîß‡•§</h2>
                <div class="party-grid" id="user-party-grid"></div>

                <!-- ‡ß©. ‡¶á‡¶®-‡¶´‡¶ø‡¶° ‡¶¨‡¶ø‡¶ú‡ßç‡¶û‡¶æ‡¶™‡¶® -->
                <div class="ad-container ad-feed"><span class="ad-label">Sponsored</span><script async src="https://zmonei.com/na/waWQiOjExMjg3ODksInNpZCI6MTE2NDU4OSwid2lkIjo1MDYzMTEsInNyYyI6Mn0=eyJ.js"></script></div>

                <!-- ‡¶´‡¶≤‡¶æ‡¶´‡¶≤ ‡¶∏‡ßá‡¶ï‡¶∂‡¶® -->
                <div id="vote-status-msg" style="text-align: center; color: var(--text-muted); margin: 20px 0;"></div>
                <div style="text-align: center;">
                    <button id="show-results-btn" class="nav-btn" style="display: none;" onclick="toggleResults()">‡¶´‡¶≤‡¶æ‡¶´‡¶≤ ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®</button>
                    <button id="reset-vote-btn" class="nav-btn" style="display: none; border-color: #ff4444; color: #ff4444; margin-left: 10px;" onclick="resetMyVote()">‡¶≠‡ßã‡¶ü ‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶®</button>
                </div>
                <div class="chart-container" id="result-chart">
                    <h3 style="text-align: center; margin-bottom: 15px;">‡¶≤‡¶æ‡¶á‡¶≠ ‡¶ú‡¶∞‡¶ø‡¶™ ‡¶´‡¶≤‡¶æ‡¶´‡¶≤</h3>
                    <div id="chart-bars"></div>
                </div>
            </div>

            <!-- ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶°‡¶Æ‡¶ø‡¶® ‡¶≠‡¶ø‡¶â -->
            <div id="admin-view" class="view-section">
                <div class="admin-dashboard">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                        <h2>‡¶Ö‡ßç‡¶Ø‡¶æ‡¶°‡¶Æ‡¶ø‡¶® ‡¶™‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤</h2>
                        <button class="nav-btn" onclick="logout()">‡¶≤‡¶ó‡¶Ü‡¶â‡¶ü</button>
                    </div>
                    
                    <!-- ‡¶ü‡ßç‡¶Ø‡¶æ‡¶¨‡¶∏ -->
                    <div style="margin-bottom: 20px; border-bottom: 1px solid #333; padding-bottom: 10px;">
                        <button class="nav-btn" onclick="showAdminTab('general')" id="tab-general">‡¶∏‡¶æ‡¶ß‡¶æ‡¶∞‡¶£</button>
                        <button class="nav-btn" onclick="showAdminTab('referral')" id="tab-referral">‡¶∞‡ßá‡¶´‡¶æ‡¶∞‡ßá‡¶≤ ‡¶á‡¶â‡¶ú‡¶æ‡¶∞</button>
                    </div>

                    <!-- ‡¶ú‡ßá‡¶®‡¶æ‡¶∞‡ßá‡¶≤ ‡¶ü‡ßç‡¶Ø‡¶æ‡¶¨ -->
                    <div id="admin-tab-general">
                        <div class="stats-grid">
                            <div class="stat-card"><div class="stat-number" id="total-parties-count">0</div><div>‡¶¶‡¶≤</div></div>
                            <div class="stat-card"><div class="stat-number" id="total-votes-count">0</div><div>‡¶Æ‡ßã‡¶ü ‡¶≠‡ßã‡¶ü</div></div>
                        </div>
                        <div class="add-party-form">
                            <h3 style="margin-bottom: 15px; color: var(--neon-purple);">‡¶®‡¶§‡ßÅ‡¶® ‡¶¶‡¶≤ ‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶ï‡¶∞‡ßÅ‡¶®</h3>
                            <form onsubmit="addNewParty(event)">
                                <div class="form-grid">
                                    <div class="form-group"><label>‡¶¶‡¶≤‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ</label><input type="text" id="p-name" required></div>
                                    <div class="form-group"><label>‡¶™‡ßç‡¶∞‡¶§‡ßÄ‡¶ï</label><input type="text" id="p-symbol" required></div>
                                    <div class="form-group"><label>‡¶™‡ßç‡¶∞‡¶ß‡¶æ‡¶®</label><input type="text" id="p-leader" required></div>
                                    <div class="form-group"><label>‡¶õ‡¶¨‡¶ø‡¶∞ ‡¶≤‡¶ø‡¶Ç‡¶ï</label><input type="url" id="p-img"></div>
                                </div>
                                <button type="submit" class="btn-submit">‡¶¶‡¶≤ ‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶ï‡¶∞‡ßÅ‡¶®</button>
                            </form>
                        </div>
                        <div class="party-table-container">
                            <table id="admin-party-table"><thead><tr><th>‡¶®‡¶æ‡¶Æ</th><th>‡¶™‡ßç‡¶∞‡¶§‡ßÄ‡¶ï</th><th>‡¶≠‡ßã‡¶ü</th><th>‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶∂‡¶®</th></tr></thead><tbody></tbody></table>
                        </div>
                        <div style="margin-top: 20px; text-align: right;">
                            <button class="action-btn" onclick="resetAllVotes()">‡¶∏‡¶¨ ‡¶≠‡ßã‡¶ü ‡¶∞‡¶ø‡¶∏‡ßá‡¶ü</button>
                        </div>
                    </div>

                    <!-- ‡¶∞‡ßá‡¶´‡¶æ‡¶∞‡ßá‡¶≤ ‡¶ü‡ßç‡¶Ø‡¶æ‡¶¨ (‡¶®‡¶§‡ßÅ‡¶®) -->
                    <div id="admin-tab-referral" style="display: none;">
                        <h3 style="margin-bottom: 20px; color: var(--neon-gold);">‡¶≤‡¶ü‡¶æ‡¶∞‡¶ø ‡¶ì ‡¶∞‡ßá‡¶´‡¶æ‡¶∞‡ßá‡¶≤ ‡¶§‡¶æ‡¶≤‡¶ø‡¶ï‡¶æ</h3>
                        <div class="party-table-container">
                            <table id="referral-table">
                                <thead><tr><th>‡¶®‡¶æ‡¶Æ</th><th>‡¶´‡ßã‡¶®</th><th>‡¶∞‡ßá‡¶´‡¶æ‡¶∞ ‡¶ï‡ßã‡¶°</th><th>‡¶Æ‡ßã‡¶ü ‡¶≠‡¶ø‡¶ú‡¶ø‡¶ü</th><th>‡¶Ö‡ßç‡¶Ø‡¶æ‡¶ï‡¶∂‡¶®</th></tr></thead>
                                <tbody></tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <!-- ‡ß™. ‡¶´‡ßÅ‡¶ü‡¶æ‡¶∞ ‡¶¨‡¶ø‡¶ú‡ßç‡¶û‡¶æ‡¶™‡¶® -->
            <div class="ad-container ad-footer"><span class="ad-label">Advertisement</span><script async="async" data-cfasync="false" src="https://beastlyfluke.com/4378e71b83611ea90c9e71b656281cd8/invoke.js"></script>
<div id="container-4378e71b83611ea90c9e71b656281cd8"></div></div>

            <!-- ‡¶ï‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶∏‡ßá‡¶ï‡¶∂‡¶® -->
            <div class="comment-section">
                <h3 class="comment-header"><i class="fas fa-comments"></i> ‡¶Æ‡¶§‡¶æ‡¶Æ‡¶§ ‡¶¶‡¶ø‡¶®</h3>
                <div class="comment-display-area" id="comment-list"></div>
                <div class="comment-input-area">
                    <input type="text" id="c-name" class="c-input" placeholder="‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ">
                    <textarea id="c-text" class="c-textarea" placeholder="‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Æ‡¶§‡¶æ‡¶Æ‡¶§ ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®..."></textarea>
                    <button class="c-submit-btn" onclick="postComment()">‡¶ï‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶™‡ßã‡¶∏‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®</button>
                </div>
            </div>
        </div>

        <!-- ‡¶°‡¶æ‡¶® ‡¶™‡¶æ‡¶∂: ‡¶∏‡¶æ‡¶á‡¶°‡¶¨‡¶æ‡¶∞ (‡¶¨‡¶ø‡¶ú‡ßç‡¶û‡¶æ‡¶™‡¶®) -->
        <aside class="sidebar-ads">
            <div class="ad-container ad-sidebar"><span class="ad-label">Ad</span><script>
  atOptions = {
    'key' : '98e61db05f229faec28461c97a5ed68b',
    'format' : 'iframe',
    'height' : 250,
    'width' : 300,
    'params' : {}
  };
</script>
<script src="https://beastlyfluke.com/98e61db05f229faec28461c97a5ed68b/invoke.js"></script></div>
            <div class="ad-container ad-sidebar"><span class="ad-label">Ad</span><div data-banner-id="499056"></div></div>
        </aside>
    </div>

    <!-- ‡¶Æ‡¶°‡¶æ‡¶≤: ‡¶≤‡¶ó‡¶á‡¶® -->
    <div id="login-modal" class="modal-overlay">
        <div class="login-box" style="background: #111; padding: 30px; border-radius: 15px; border: 1px solid var(--neon-blue); width: 90%; max-width: 350px; text-align: center;">
            <h3 style="margin-bottom: 15px; color: var(--neon-blue);">‡¶´‡ßç‡¶∞‡ßÄ‡¶§‡ßá ‡¶ó‡¶´ ‡¶®‡¶ø‡¶§‡ßá ‡¶Ü‡¶∏‡¶ö‡ßã‡¶õ‡¶ö‡•§ ‡¶≤‡¶ó‡¶ø‡¶® ‡¶ï‡¶∞ ‡¶™‡¶æ‡¶∞‡¶≤‡ßá‡•§</h3>
            <input type="password" id="admin-pass" placeholder="‡¶™‡¶æ‡¶∏‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶° (1234)" style="margin-bottom: 15px; width:100%; background:rgba(255,255,255,0.05); border:1px solid #444; padding:10px; color:#fff;">
            <button class="btn-submit" onclick="attemptLogin()" style="width: 100%;">‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ ‡¶ó‡¶´‡¶∞‡ßá ‡¶†‡¶æ‡¶™‡¶æ‡¶§‡ßá ‡¶ö‡¶æ‡¶á‡¶≤‡ßá ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶ï‡¶∞‡ßã</button>
            <button class="nav-btn" style="margin-top: 10px; border: none; background: transparent;" onclick="closeModal('login-modal')">‡¶¨‡¶®‡ßç‡¶ß ‡¶ï‡¶∞ ‡¶≠‡¶æ‡¶á‡•§ ‡¶§‡ßÅ‡¶á ‡¶è‡¶°‡¶ø ‡¶™‡¶æ‡¶∞‡¶¨‡¶ø ‡¶®‡¶æ</button>
        </div>
    </div>

    <!-- ‡¶Æ‡¶°‡¶æ‡¶≤: ‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶∏‡ßç‡¶ü ‡¶´‡¶∞‡ßç‡¶Æ -->
    <div id="contest-modal" class="modal-overlay">
        <div class="modal-box">
            <button class="modal-close" onclick="closeModal('contest-modal')">&times;</button>
            <h3 class="modal-title">üéâ ‡¶Ö‡¶≠‡¶ø‡¶®‡¶®‡ßç‡¶¶‡¶®! ‡¶≠‡ßã‡¶ü ‡¶∏‡¶´‡¶≤ ‡¶π‡ßü‡ßá‡¶õ‡ßá</h3>
            <p class="modal-text">‡¶ß‡¶®‡ßç‡¶Ø‡¶¨‡¶æ‡¶¶ ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Æ‡ßÇ‡¶≤‡ßç‡¶Ø‡¶¨‡¶æ‡¶® ‡¶≠‡ßã‡¶ü ‡¶ü‡¶æ ‡¶¶‡ßá‡¶ì‡ßü‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø‡•§ ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡¶õ‡¶®‡ßç‡¶¶‡ßá‡¶∞ ‡¶¶‡¶≤ ‡¶ü‡¶ø ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶ø‡¶§ ‡¶π‡¶≤‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶ï‡ßá ‡¶≤‡¶ü‡¶æ‡¶∞‡¶ø‡¶∞ ‡¶Æ‡¶æ‡¶ß‡ßç‡¶Ø‡¶Æ‡ßá ‡¶è‡¶ï‡¶ü‡¶æ ‡¶ó‡¶ø‡¶´‡¶ü ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶¶‡ßá‡¶ì‡ßü‡¶æ ‡¶†‡¶ø‡¶ï‡¶æ‡¶®‡¶æ‡¶§‡ßá ‡¶Ø‡ßã‡¶ó‡¶æ‡¶Ø‡ßã‡¶ó ‡¶ï‡¶∞‡¶æ ‡¶π‡¶¨‡ßá‡•§ ‡¶®‡¶ø‡¶ö‡ßá‡¶∞ ‡¶´‡ßç‡¶∞‡¶Æ ‡¶ü‡¶æ ‡¶™‡ßÅ‡¶∞‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</p>
            <form onsubmit="submitContest(event)">
                <div class="c-form-group"><input type="text" id="c-name" class="c-form-input" placeholder="‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ" required></div>
                <div class="c-form-group"><input type="email" id="c-email" class="c-form-input" placeholder="‡¶á‡¶Æ‡ßá‡¶á‡¶≤" required></div>
                <div class="c-form-group"><input type="tel" id="c-phone" class="c-form-input" placeholder="‡¶´‡ßã‡¶® ‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞" required></div>
                <div class="c-form-group"><input type="text" id="c-telegram" class="c-form-input" placeholder="‡¶ü‡ßá‡¶≤‡¶ø‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ ‡¶Ü‡¶á‡¶°‡¶ø"></div>
                <div class="c-form-group"><textarea id="c-address" class="c-textarea" placeholder="‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶†‡¶ø‡¶ï‡¶æ‡¶®‡¶æ" required></textarea></div>
                <button type="submit" class="c-submit-btn">‡¶´‡¶∞‡ßç‡¶Æ ‡¶∏‡¶æ‡¶¨‡¶Æ‡¶ø‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®</button>
            </form>
        </div>
    </div>

    <!-- ‡¶Æ‡¶°‡¶æ‡¶≤: ‡¶∞‡ßá‡¶´‡¶æ‡¶∞‡ßá‡¶≤ -->
    <div id="referral-modal" class="modal-overlay">
        <div class="modal-box">
            <button class="modal-close" onclick="closeModal('referral-modal')">&times;</button>
            <h3 class="modal-title">üéÅ ‡¶∞‡¶ø‡¶ì‡ßü‡¶æ‡¶∞‡ßç‡¶° ‡¶™‡¶æ‡¶®</h3>
            <p class="modal-text">‡ßß‡ß¶‡¶ú‡¶® ‡¶¨‡¶®‡ßç‡¶ß‡ßÅ‡¶ï‡ßá ‡¶∂‡ßá‡ßü‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶≤‡ßá ‡¶§‡¶æ‡¶∞‡¶æ ‡¶è‡¶á ‡¶ì‡ßü‡ßá‡¶¨‡¶∏‡¶æ‡¶á‡¶ü ‡¶≠‡¶ø‡¶ú‡¶ø‡¶ü ‡¶ï‡¶∞‡¶≤‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶´‡ßã‡¶® ‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞‡ßá ‡ß´‡ß¶‡¶ü‡¶æ‡¶ï‡¶æ ‡¶∞‡¶ø‡¶ö‡¶æ‡¶∞‡ßç‡¶ú ‡¶™‡¶æ‡¶¨‡ßá‡¶®‡•§‡¶è‡¶ü‡¶æ ‡¶Ö‡¶ü‡ßã‡¶Æ‡ßá‡¶ü‡¶ø‡¶ï ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞‡ßá ‡¶ö‡¶≤‡ßá ‡¶Ø‡¶æ‡¶¨‡ßá, ‡¶§‡¶æ‡¶á ‡¶è‡¶ñ‡¶®‡¶ø ‡¶∂‡ßá‡ßü‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡ßß‡ß¶‡¶ú‡¶® ‡¶¨‡¶®‡ßç‡¶ß‡ßÅ‡¶¶‡ßá‡¶∞</p>
            
            <div class="ref-link-box" id="share-link">Generating Link...</div>
            <button class="c-submit-btn" onclick="copyLink()">‡¶≤‡¶ø‡¶Ç‡¶ï ‡¶ï‡¶™‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®</button>
            
            <h4 style="margin-top: 20px; text-align: center; color: var(--neon-gold);">‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Ö‡¶ó‡ßç‡¶∞‡¶ó‡¶§‡¶ø</h4>
            <div class="progress-bar-bg">
                <div class="progress-bar-fill" id="my-progress-bar"></div>
            </div>
            <p style="text-align: center; font-size: 0.9rem; color: #ccc;">‡¶Æ‡ßã‡¶ü ‡¶≠‡¶ø‡¶ú‡¶ø‡¶ü: <span id="visit-count" style="color: var(--neon-blue); font-weight: bold;">0</span>/10</p>
        </div>
    </div>

    <script>
        // --- ‡¶∏‡ßá‡¶ü‡¶Ü‡¶™ ---
        const DB_KEY = 'bd_election_system_v3_fixed';
        const USER_VOTE_KEY = 'bd_user_vote_status_v3';
        const COMMENT_KEY = 'bd_vote_comments_v1';
        const REF_DB_KEY = 'bd_referral_db_v1'; // ‡¶∞‡ßá‡¶´‡¶æ‡¶∞‡ßá‡¶≤ ‡¶°‡¶æ‡¶ü‡¶æ‡¶¨‡ßá‡¶∏
        const MY_REF_ID_KEY = 'bd_my_ref_id'; // ‡¶¨‡¶∞‡ßç‡¶§‡¶Æ‡¶æ‡¶® ‡¶á‡¶â‡¶ú‡¶æ‡¶∞‡ßá‡¶∞ ‡¶∞‡ßá‡¶´‡¶æ‡¶∞ ‡¶Ü‡¶á‡¶°‡¶ø

        const defaultData = [
            { id: 1, name: '‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂ ‡¶ú‡¶æ‡¶§‡ßÄ‡ßü‡¶§‡¶æ‡¶¨‡¶æ‡¶¶‡ßÄ ‡¶¶‡¶≤ - ‡¶¨‡¶ø.‡¶è‡¶®.‡¶™‡¶ø', symbol: '‡¶ß‡¶æ‡¶®‡ßá‡¶∞ ‡¶∂‡ßÄ‡¶∑', leader: '‡¶¶‡ßá‡¶∂ ‡¶®‡¶æ‡ßü‡¶ï ‡¶§‡¶æ‡¶∞‡ßá‡¶ï ‡¶∞‡¶π‡¶Æ‡¶æ‡¶®', image: 'https://asset.ecs.gov.bd/media/uploaded_files/package/filemanager/2026/01/Tarique-Rahman.jpeg', votes: 0 },
            { id: 2, name: '‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ‡¶¶‡ßá‡¶∂ ‡¶ú‡¶æ‡¶Æ‡¶æ‡ßü‡¶æ‡¶§‡ßá ‡¶á‡¶∏‡¶≤‡¶æ‡¶Æ‡ßÄ', symbol: '‡¶¶‡¶æ‡¶Å‡ßú‡¶ø‡¶™‡¶æ‡¶≤‡ßç‡¶≤‡¶æ', leader: '‡¶ú‡¶®‡¶®‡ßá‡¶§‡¶æ ‡¶°‡¶æ. ‡¶∂‡¶´‡¶ø‡¶ï‡ßÅ‡¶∞ ‡¶∞‡¶π‡¶Æ‡¶æ‡¶®', image: 'https://asset.ecs.gov.bd/media/uploaded_files/package/filemanager/2025/07/Dr.-Shafiqur-Rahman.jpg', votes: 0 },
            { id: 3, name: '‡¶ú‡¶æ‡¶§‡ßÄ‡ßü ‡¶®‡¶æ‡¶ó‡¶∞‡¶ø‡¶ï ‡¶™‡¶æ‡¶∞‡ßç‡¶ü‡¶ø-‡¶è‡¶®‡¶∏‡¶ø‡¶™‡¶ø', symbol: '‡¶∂‡¶æ‡¶™‡¶≤‡¶æ ‡¶ï‡¶≤‡¶ø', leader: '‡¶®‡¶æ‡¶π‡¶ø‡¶¶ ‡¶á‡¶∏‡¶≤‡¶æ‡¶Æ', image: 'https://asset.ecs.gov.bd/media/uploaded_files/package/filemanager/2025/12/Nahid_islam.jpg', votes: 0 }
        ];

        // --- ‡¶ï‡ßã‡¶∞ ‡¶´‡¶æ‡¶Ç‡¶∂‡¶® ---
        function getData() {
            try { const data = localStorage.getItem(DB_KEY); return (data && Array.isArray(JSON.parse(data))) ? JSON.parse(data) : defaultData; }
            catch (e) { return defaultData; }
        }
        function saveData(data) { localStorage.setItem(DB_KEY, JSON.stringify(data)); renderAll(); }

        // --- ‡¶á‡¶®‡¶ø‡¶∂‡¶ø‡ßü‡¶æ‡¶≤‡¶æ‡¶á‡¶ú‡ßá‡¶∂‡¶® ---
        document.addEventListener('DOMContentLoaded', () => {
            checkReferralVisit(); // ‡¶ö‡ßá‡¶ï ‡¶ï‡¶∞‡¶¨ ‡¶ï‡ßá‡¶â ‡¶∞‡ßá‡¶´‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßá ‡¶Ü‡¶∏‡¶õ‡ßá ‡¶ï‡¶ø‡¶®‡¶æ
            renderAll();
            checkUserVoteStatus();
            renderComments();
        });

        // --- ‡¶∞‡ßá‡¶´‡¶æ‡¶∞‡ßá‡¶≤ ‡¶≤‡¶ú‡¶ø‡¶ï (‡¶®‡¶§‡ßÅ‡¶®) ---
        function checkReferralVisit() {
            const params = new URLSearchParams(window.location.search);
            const refId = params.get('ref');
            
            if (refId) {
                const refDb = JSON.parse(localStorage.getItem(REF_DB_KEY) || '{}');
                if (refDb[refId]) {
                    refDb[refId].visitCount = (refDb[refId].visitCount || 0) + 1;
                    localStorage.setItem(REF_DB_KEY, JSON.stringify(refDb));
                    // ‡¶á‡¶â‡¶ú‡¶æ‡¶∞‡¶ï‡ßá ‡¶ú‡¶æ‡¶®‡¶æ‡¶®‡ßã ‡¶Ø‡ßá ‡¶≠‡¶ø‡¶ú‡¶ø‡¶ü ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü ‡¶π‡ßü‡ßá‡¶õ‡ßá
                    alert("‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶¨‡¶®‡ßç‡¶ß‡ßÅ‡¶∞ ‡¶∂‡ßá‡ßü‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶æ ‡¶≤‡¶ø‡¶Ç‡¶ï‡ßá ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶ï‡¶∞‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶ß‡¶®‡ßç‡¶Ø‡¶¨‡¶æ‡¶¶! ‡¶¨‡¶®‡ßç‡¶ß‡ßÅ‡¶∞ ‡¶ï‡¶æ‡¶â‡¶®‡ßç‡¶ü‡¶æ‡¶∞ ‡¶¨‡ßá‡ßú‡ßá‡¶õ‡ßá‡•§ ‡¶Ü‡¶™‡¶®‡¶ø ‡¶Ø‡¶¶‡¶ø ‡¶ó‡¶ø‡¶´‡¶ü ‡¶™‡ßá‡¶§‡ßá ‡¶ö‡¶æ‡¶® ‡¶§‡¶æ‡¶π‡¶≤‡ßá ‡¶Ü‡¶™‡¶®‡¶ø ‡¶è‡¶ñ‡¶®‡¶ø ‡¶∂‡ßá‡ßü‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®");
                }
                // URL ‡¶™‡¶∞‡¶ø‡¶∑‡ßç‡¶ï‡¶æ‡¶∞ ‡¶ï‡¶∞‡¶æ
                window.history.replaceState({}, document.title, window.location.pathname);
            }
        }

        function renderAll() {
            const parties = getData();
            renderUserGrid(parties);
            renderAdminTable(parties);
            renderAdminStats(parties);
            renderChart(parties);
        }

        // --- ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶≠‡ßã‡¶ü‡¶ø‡¶Ç ---
        function renderUserGrid(parties) {
            const grid = document.getElementById('user-party-grid'); grid.innerHTML = '';
            parties.forEach(party => {
                const card = document.createElement('div'); card.className = 'party-card';
                const imgSrc = party.image || `https://picsum.photos/seed/${party.id}/200/200`;
                card.innerHTML = `
                    <div class="leader-img-wrapper"><img src="${imgSrc}" class="leader-img" onerror="this.src='https://via.placeholder.com/150'"></div>
                    <div class="symbol-badge">‡¶™‡ßç‡¶∞‡¶§‡ßÄ‡¶ï: ${party.symbol}</div>
                    <h3 class="party-title">${party.name}</h3>
                    <div class="party-meta">${party.leader}</div>
                    <button class="vote-btn" onclick="castVote('${party.id}')">‡¶≠‡ßã‡¶ü ‡¶¶‡¶ø‡¶®</button>
                `; grid.appendChild(card);
            });
        }

        function castVote(partyId) {
            if (localStorage.getItem(USER_VOTE_KEY)) { alert("‡¶≠‡¶æ‡¶á ‡¶§‡ßÅ‡¶á ‡¶Ü‡¶ó‡ßá‡¶á ‡¶≠‡ßã‡¶ü ‡¶¶‡¶ø‡¶õ‡ßã‡¶õ‡•§ ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶Ü‡¶á‡¶ö‡ßã‡¶ö ‡¶¶‡¶ø‡¶§‡ßá‡•§ ‡¶≠‡¶æ‡¶ó ‡¶∏‡¶æ‡¶≤‡¶æ!"); return; }
            try {
                const parties = getData(); const partyIndex = parties.findIndex(p => p.id == partyId);
                if (partyIndex !== -1) {
                    parties[partyIndex].votes++; saveData(parties); localStorage.setItem(USER_VOTE_KEY, 'true');
                    
                    // ‡¶≠‡ßã‡¶ü ‡¶∏‡¶´‡¶≤ ‡¶π‡¶ì‡ßü‡¶æ‡¶∞ ‡¶∏‡¶æ‡¶•‡ßá ‡¶∏‡¶æ‡¶•‡ßá ‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶∏‡ßç‡¶ü ‡¶Æ‡¶°‡¶æ‡¶≤ ‡¶ì‡¶™‡ßá‡¶®
                    openModal('contest-modal');
                    
                    checkUserVoteStatus();
                }
            } catch (error) { alert("‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ ‡¶π‡ßü‡ßá‡¶õ‡ßá‡•§"); }
        }

        // --- ‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶∏‡ßç‡¶ü ‡¶´‡¶∞‡ßç‡¶Æ ‡¶π‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶°‡¶≤‡¶ø‡¶Ç (‡¶®‡¶§‡ßÅ‡¶®) ---
        function submitContest(e) {
            e.preventDefault();
            const name = document.getElementById('c-name').value;
            const email = document.getElementById('c-email').value;
            const phone = document.getElementById('c-phone').value;
            const telegram = document.getElementById('c-telegram').value;
            const address = document.getElementById('c-address').value;

            // ‡¶∞‡ßá‡¶´‡¶æ‡¶∞ ‡¶Ü‡¶á‡¶°‡¶ø ‡¶ú‡ßá‡¶®‡¶æ‡¶∞‡ßá‡¶ü
            const uniqueRefId = 'REF' + Date.now().toString().slice(-6);
            
            // ‡¶°‡¶æ‡¶ü‡¶æ ‡¶∏‡ßá‡¶≠
            const refDb = JSON.parse(localStorage.getItem(REF_DB_KEY) || '{}');
            refDb[uniqueRefId] = {
                name, email, phone, telegram, address, visitCount: 0, date: new Date().toISOString()
            };
            localStorage.setItem(REF_DB_KEY, JSON.stringify(refDb));
            localStorage.setItem(MY_REF_ID_KEY, uniqueRefId);

            closeModal('contest-modal');
            openModal('referral-modal');
            
            // ‡¶∞‡ßá‡¶´‡¶æ‡¶∞‡ßá‡¶≤ ‡¶Æ‡¶°‡¶æ‡¶≤‡ßá ‡¶°‡¶æ‡¶ü‡¶æ ‡¶≤‡ßã‡¶°
            loadReferralData();
        }

        function loadReferralData() {
            const myId = localStorage.getItem(MY_REF_ID_KEY);
            const refDb = JSON.parse(localStorage.getItem(REF_DB_KEY) || '{}');
            const myData = refDb[myId];

            if (myData) {
                const link = window.location.href.split('?')[0] + "?ref=" + myId;
                document.getElementById('share-link').innerText = link;
                updateReferralProgress(myData.visitCount || 0);
            }
        }

        function copyLink() {
            const text = document.getElementById('share-link').innerText;
            navigator.clipboard.writeText(text).then(() => alert("‡¶≤‡¶ø‡¶Ç‡¶ï ‡¶ï‡¶™‡¶ø ‡¶π‡ßü‡ßá‡¶õ‡ßá! ‡ß´‡ß¶‡¶ü‡¶æ‡¶ï‡¶æ ‡¶∞‡¶ø‡¶ö‡¶æ‡¶∞‡ßç‡¶ú ‡¶™‡ßá‡¶§‡ßá ‡¶è‡¶ñ‡¶® ‡¶∂‡ßá‡ßü‡¶æ‡¶∞ ‡¶ï‡¶∞‡ßÅ‡¶®‡•§"));
        }

        function updateReferralProgress(count) {
            const percent = Math.min((count / 10) * 100, 100);
            document.getElementById('my-progress-bar').style.width = percent + "%";
            document.getElementById('visit-count').innerText = count;
        }

        function checkUserVoteStatus() {
            const hasVoted = localStorage.getItem(USER_VOTE_KEY);
            const hasSubmittedContest = localStorage.getItem(MY_REF_ID_KEY);
            const statusMsg = document.getElementById('vote-status-msg');
            const showResBtn = document.getElementById('show-results-btn');
            const resetBtn = document.getElementById('reset-vote-btn');
            const chart = document.getElementById('result-chart');

            if (hasVoted) {
                statusMsg.innerText = "‡¶Ü‡¶™‡¶®‡¶ø ‡¶á‡¶§‡¶ø‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá‡¶á ‡¶≠‡ßã‡¶ü ‡¶¶‡¶ø‡ßü‡ßá‡¶õ‡ßá‡¶®‡•§";
                showResBtn.style.display = 'inline-block';
                resetBtn.style.display = 'inline-block';
                chart.style.display = 'block';
                renderChart(getData());

                // ‡¶≠‡ßã‡¶ü ‡¶¶‡¶ø‡ßü‡ßá‡¶õ‡ßá ‡¶ï‡¶ø‡¶®‡ßç‡¶§‡ßÅ ‡¶ï‡¶®‡ßç‡¶ü‡ßá‡¶∏‡ßç‡¶ü ‡¶´‡¶∞‡ßç‡¶Æ ‡¶´‡¶ø‡¶≤ ‡¶ï‡¶∞‡ßá‡¶®‡¶ø? (‡¶™‡ßá‡¶ú ‡¶∞‡¶ø‡¶≤‡ßã‡¶° ‡¶¶‡¶ø‡¶≤‡ßá‡¶ì ‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶¶‡ßá‡¶ñ‡¶æ‡¶¨‡ßá ‡¶®‡¶æ, ‡¶∂‡ßÅ‡¶ß‡ßÅ ‡¶™‡ßç‡¶∞‡¶•‡¶Æ‡¶¨‡¶æ‡¶∞)
                // ‡¶Ü‡¶Æ‡¶∞‡¶æ ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶è‡¶ï‡¶ü‡¶ø ‡¶ö‡ßá‡¶ï ‡¶∞‡¶æ‡¶ñ‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶ø ‡¶Ø‡¶¶‡¶ø ‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶™‡ßá‡¶ú ‡¶∞‡¶ø‡¶´‡ßç‡¶∞‡ßá‡¶∂ ‡¶¶‡¶ø‡ßü‡ßá ‡¶•‡¶æ‡¶ï‡ßá
                if (!hasSubmittedContest && !localStorage.getItem('contest_popup_shown')) {
                   // openModal('contest-modal'); // ‡¶Ö‡¶ü‡ßã ‡¶ì‡¶™‡ßá‡¶® ‡¶ï‡¶∞‡¶≤‡ßá ‡¶¨‡¶ø‡¶∞‡¶ï‡ßç‡¶§‡¶ø ‡¶π‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡ßá, ‡¶§‡¶æ‡¶á ‡¶¨‡¶æ‡¶¶ ‡¶¶‡ßá‡¶ì‡ßü‡¶æ ‡¶π‡¶≤‡ßã‡•§
                }
            } else {
                statusMsg.innerText = ""; showResBtn.style.display = 'none'; resetBtn.style.display = 'none'; chart.style.display = 'none';
            }
        }

        function resetMyVote() {
            if(confirm("‡¶Ü‡¶™‡¶®‡¶ø ‡¶ï‡¶ø ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶≠‡ßã‡¶ü ‡¶¨‡¶æ‡¶§‡¶ø‡¶≤ ‡¶ï‡¶∞‡ßá ‡¶®‡¶§‡ßÅ‡¶® ‡¶ï‡¶∞‡ßá ‡¶≠‡ßã‡¶ü ‡¶¶‡¶ø‡¶§‡ßá ‡¶ö‡¶æ‡¶®?")) {
                localStorage.removeItem(USER_VOTE_KEY);
                localStorage.removeItem(MY_REF_ID_KEY); // ‡¶∞‡ßá‡¶´‡¶æ‡¶∞‡ßá‡¶≤‡¶ì ‡¶∞‡¶ø‡¶∏‡ßá‡¶ü
                location.reload();
            }
        }

        function toggleResults() { const chart = document.getElementById('result-chart'); chart.style.display = (chart.style.display === 'none') ? 'block' : 'none'; }

        // --- ‡¶ö‡¶æ‡¶∞‡ßç‡¶ü ---
        function renderChart(parties) {
            const container = document.getElementById('chart-bars'); container.innerHTML = '';
            const totalVotes = parties.reduce((sum, p) => sum + p.votes, 0);
            const sortedParties = [...parties].sort((a, b) => b.votes - a.votes);
            sortedParties.forEach(p => {
                const percent = totalVotes === 0 ? 0 : ((p.votes / totalVotes) * 100).toFixed(1);
                const wrapper = document.createElement('div'); wrapper.className = 'bar-wrapper';
                wrapper.innerHTML = `<div class="bar-label"><span>${p.name}</span><span>${percent}%</span></div><div class="bar-bg"><div class="bar-fill" style="width: 0%"></div></div>`;
                container.appendChild(wrapper);
                setTimeout(() => wrapper.querySelector('.bar-fill').style.width = `${percent}%`, 100);
            });
        }

        // --- ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶°‡¶Æ‡¶ø‡¶® ‡¶™‡ßç‡¶Ø‡¶æ‡¶®‡ßá‡¶≤ ---
        function checkAdminAccess() {
            if (sessionStorage.getItem('admin_logged_in')) { switchView('admin'); } else { openModal('login-modal'); }
        }
        function attemptLogin() {
            if (document.getElementById('admin-pass').value === 'Shojib@101') { sessionStorage.setItem('admin_logged_in', 'true'); closeModal('login-modal'); switchView('admin'); }
            else { alert("‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ ‡¶ó‡¶´‡¶∞‡ßá ‡¶†‡¶æ‡¶™‡¶æ‡¶§‡ßá ‡¶™‡¶æ‡¶∞‡¶§‡¶æ‡¶õ‡ßã ‡¶®‡¶æ? ‡¶§‡¶æ‡¶π‡¶≤‡ßá ‡¶§‡ßã‡¶Æ‡¶æ‡¶∞ ‡¶ó‡¶´ ‡¶è‡¶∞ ‡¶®‡¶æ‡¶Æ‡ßç‡¶¨‡¶æ‡¶∞ ‡¶ü‡¶æ ‡¶¶‡¶ø‡ßü‡ßá ‡¶≤‡¶ó‡¶ø‡¶® ‡¶ï‡¶∞‡ßá ‡¶¶‡ßá‡¶ñ‡ßã‡•§ ‡¶π‡ßü‡ßá ‡¶Ø‡¶æ‡¶¨‡ßá‡•§!"); }
        }
        function closeModal(id) { document.getElementById(id).style.display = 'none'; }
        function openModal(id) { document.getElementById(id).style.display = 'flex'; }
        function logout() { sessionStorage.removeItem('admin_logged_in'); switchView('user'); }
        function switchView(viewName) {
            document.querySelectorAll('.view-section').forEach(el => el.classList.remove('active'));
            document.getElementById(`${viewName}-view`).classList.add('active');
        }

        // ‡¶ü‡ßç‡¶Ø‡¶æ‡¶¨ ‡¶∏‡ßÅ‡¶á‡¶ö‡¶ø‡¶Ç
        function showAdminTab(tabName) {
            document.getElementById('admin-tab-general').style.display = 'none';
            document.getElementById('admin-tab-referral').style.display = 'none';
            document.getElementById(`admin-tab-${tabName}`).style.display = 'block';
            if(tabName === 'referral') renderReferralTable();
        }

        function renderAdminTable(parties) {
            const tbody = document.querySelector('#admin-party-table tbody'); tbody.innerHTML = '';
            parties.forEach(party => {
                const tr = document.createElement('tr');
                tr.innerHTML = `<td>${party.name}</td><td>${party.symbol}</td><td style="color: var(--neon-gold); font-weight: bold;">${party.votes}</td><td><button class="action-btn" onclick="deleteParty(${party.id})">‡¶°‡¶ø‡¶≤‡¶ø‡¶ü</button></td>`;
                tbody.appendChild(tr);
            });
        }
        function renderAdminStats(parties) {
            document.getElementById('total-parties-count').innerText = parties.length;
            document.getElementById('total-votes-count').innerText = parties.reduce((sum, p) => sum + p.votes, 0);
        }
        function addNewParty(e) {
            e.preventDefault();
            const parties = getData();
            const newParty = { id: Date.now(), name: document.getElementById('p-name').value, symbol: document.getElementById('p-symbol').value, leader: document.getElementById('p-leader').value, image: document.getElementById('p-img').value, votes: 0 };
            parties.push(newParty); saveData(parties); e.target.reset(); alert("‡¶¶‡¶≤ ‡¶Ø‡ßÅ‡¶ï‡ßç‡¶§ ‡¶π‡ßü‡ßá‡¶õ‡ßá!");
        }
        function deleteParty(id) {
            if(confirm("‡¶°‡¶ø‡¶≤‡¶ø‡¶ü ‡¶ï‡¶∞‡¶§‡ßá ‡¶ö‡¶æ‡¶®?")) { const parties = getData(); saveData(parties.filter(p => p.id != id)); }
        }
        function resetAllVotes() {
            if(confirm("‡¶∏‡¶¨ ‡¶≠‡ßã‡¶ü ‡ß¶ ‡¶ï‡¶∞‡ßá ‡¶¶‡ßá‡¶¨‡ßá‡¶®?")) { const parties = getData().map(p => ({...p, votes: 0})); saveData(parties); }
        }

        // --- ‡¶∞‡ßá‡¶´‡¶æ‡¶∞‡ßá‡¶≤ ‡¶Ö‡ßç‡¶Ø‡¶æ‡¶°‡¶Æ‡¶ø‡¶® ‡¶ü‡ßá‡¶¨‡¶ø‡¶≤ (‡¶®‡¶§‡ßÅ‡¶®) ---
        function renderReferralTable() {
            const tbody = document.querySelector('#referral-table tbody'); tbody.innerHTML = '';
            const refDb = JSON.parse(localStorage.getItem(REF_DB_KEY) || '{}');
            
            Object.keys(refDb).forEach(key => {
                const u = refDb[key];
                const tr = document.createElement('tr');
                tr.innerHTML = `
                    <td>${u.name}</td>
                    <td>${u.phone}</td>
                    <td>${key}</td>
                    <td style="color: var(--neon-blue);">${u.visitCount}</td>
                    <td><button class="action-btn" onclick="deleteRefUser('${key}')">‡¶°‡¶ø‡¶≤‡¶ø‡¶ü</button></td>
                `;
                tbody.appendChild(tr);
            });
        }

        function deleteRefUser(key) {
            if(confirm("‡¶á‡¶â‡¶ú‡¶æ‡¶∞ ‡¶°‡¶ø‡¶≤‡¶ø‡¶ü ‡¶ï‡¶∞‡¶§‡ßá ‡¶ö‡¶æ‡¶®?")) {
                const refDb = JSON.parse(localStorage.getItem(REF_DB_KEY) || '{}');
                delete refDb[key];
                localStorage.setItem(REF_DB_KEY, JSON.stringify(refDb));
                renderReferralTable();
            }
        }

        // --- ‡¶ï‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶∏‡¶ø‡¶∏‡ßç‡¶ü‡ßá‡¶Æ ---
        function renderComments() {
            const list = document.getElementById('comment-list'); const comments = JSON.parse(localStorage.getItem(COMMENT_KEY) || '[]'); list.innerHTML = '';
            comments.reverse().forEach(c => {
                const div = document.createElement('div'); div.className = 'single-comment';
                div.innerHTML = `<div class="comment-user"><i class="fas fa-user-circle"></i> ${c.name}</div><div class="comment-text">${c.text}</div>`;
                list.appendChild(div);
            });
        }
        function postComment() {
            const nameIn = document.getElementById('c-name'); const textIn = document.getElementById('c-text');
            const name = nameIn.value.trim(); const text = textIn.value.trim();
            if (!name || !text) { alert("‡¶¶‡ßü‡¶æ ‡¶ï‡¶∞‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ ‡¶è‡¶¨‡¶Ç ‡¶Æ‡¶§‡¶æ‡¶Æ‡¶§ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®‡•§"); return; }
            const comments = JSON.parse(localStorage.getItem(COMMENT_KEY) || '[]');
            comments.push({ name: name, text: text, date: new Date().toISOString() });
            localStorage.setItem(COMMENT_KEY, JSON.stringify(comments));
            nameIn.value = ''; textIn.value = ''; renderComments();
        }
    </script>
</body>
</html>